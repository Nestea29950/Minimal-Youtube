console.log("short.js chargé");function c(e){document.querySelectorAll("ytd-rich-section-renderer").forEach(n=>{n.querySelector('a[href*="/shorts/"]')&&(n.style.display=e?"none":"")})}function r(e){document.querySelectorAll("ytd-reel-shelf-renderer").forEach(n=>{n.style.display=e?"none":""})}function a(e){const o=[...document.querySelectorAll("a#endpoint")].find(n=>n.title==="Shorts");o&&(o.style.display=e?"none":"")}function t(e){c(e),r(e),a(e)}function i(e){const o=document.getElementById("comments");o&&(o.style.display=e?"none":"")}function s(e){i(e)}function m(e){const o=document.getElementById("comments");items&&(o.style.display=e?"none":"")}function l(e){m(e)}console.log("main.js chargé");const d=new MutationObserver(()=>{chrome.storage.local.get(["shortsEnabled","recommandesEnabled","commentaireEnabled"],e=>{t(e.shortsEnabled),s(e.commentaireEnabled),l(e.recommandesEnabled)})});d.observe(document.body,{childList:!0,subtree:!0});chrome.storage.local.get(["shortsEnabled","recommandesEnabled","commentaireEnabled"],e=>{t(e.shortsEnabled),s(e.commentaireEnabled),l(e.recommandesEnabled)});chrome.runtime.onMessage.addListener((e,o,n)=>{e.action==="shorts_toggle"&&(console.log("oui"),chrome.storage.local.set({shortsEnabled:e.hide}),t(e.hide)),e.action==="commentaires_toggle"&&(chrome.storage.local.set({commentaireEnabled:e.hide}),s(e.hide)),e.action==="recommandes_toggle"&&(chrome.storage.local.set({recommandesEnabled:e.hide}),l(e.hide))});

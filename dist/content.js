console.log("short.js chargÃ©");function i(e){document.querySelectorAll("ytd-rich-section-renderer").forEach(t=>{t.querySelector('a[href*="/shorts/"]')&&t.classList.toggle("hide-recommandes",e)})}function d(e){document.querySelectorAll("ytd-reel-shelf-renderer").forEach(t=>{t.classList.toggle("hide-recommandes",e)})}function m(e){const o=[...document.querySelectorAll("a#endpoint")].find(t=>t.title==="Shorts");o&&o.classList.toggle("hide-recommandes",e)}function c(e){i(e),d(e),m(e)}function g(e){const o=document.getElementById("comments");o&&o.classList.toggle("hide-recommandes",e)}function l(e){g(e)}function h(e){const o=document.getElementById("secondary");o&&o.classList.toggle("hide-recommandes",e)}function a(e){h(e)}let n=!0,s=!0,r=!0;const f=new MutationObserver(()=>{c(n),l(r),a(s)});f.observe(document.body,{childList:!0,subtree:!0});chrome.storage.local.get(["shortsEnabled","recommandesEnabled","commentaireEnabled"],e=>{n=e.shortsEnabled??!0,s=e.recommandesEnabled??!0,r=e.commentaireEnabled??!0,c(n),l(r),a(s)});chrome.runtime.onMessage.addListener((e,o,t)=>{e.action==="shorts_toggle"&&(n=e.hide,chrome.storage.local.set({shortsEnabled:n}),c(n)),e.action==="commentaires_toggle"&&(r=e.hide,chrome.storage.local.set({commentaireEnabled:r}),l(r)),e.action==="recommandes_toggle"&&(s=e.hide,chrome.storage.local.set({recommandesEnabled:s}),a(s))});
